---
import { cn } from '~/utils/utils';

interface Props {
  align?: 'left' | 'center' | 'right';
  class?: string;
  level: 'h1' | 'h2' | 'h3';
  variant?: 'h1' | 'h2' | 'h3';
}

const { align = 'left', class: classes, level, variant } = Astro.props;

// Use variant for styling, fallback to level if no variant specified
const styleLevel = variant || level;

const HeadingTag = level;
const headingClasses = cn(
  // Base responsive sizing (mobile-first, minimum 24px)
  {
    'text-3xl md:text-5xl lg:text-6xl': styleLevel === 'h1', // 30px -> 48px -> 60px
    'text-2xl md:text-4xl lg:text-5xl': styleLevel === 'h2', // 24px -> 36px -> 48px
    'text-xl md:text-3xl lg:text-4xl': styleLevel === 'h3', // 20px -> 30px -> 36px
  },
  // Text alignment
  {
    'text-left': align === 'left',
    'text-center': align === 'center',
    'text-right': align === 'right',
  },
  // Font weight based on style level (variant or level)
  {
    'font-extrabold': styleLevel === 'h1', // Hero text, banners
    'font-bold': styleLevel === 'h2', // Main headings
    'font-semibold': styleLevel === 'h3', // Subheadings, modern look
  },
  // Letter spacing for better readability at larger sizes
  'tracking-tight',
);
---

<HeadingTag class={cn(headingClasses, classes)}>
  <slot />
</HeadingTag>
